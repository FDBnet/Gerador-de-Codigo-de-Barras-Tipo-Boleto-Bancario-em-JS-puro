class CodigoBarrasITF{constructor(t){this.codigo=t.replace(/\D/g,""),this.codigo.length%2!=0&&(this.codigo="0"+this.codigo),this.padroes={inicio:"1010",fim:"11101",codigos:["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},this.codificado=this.codificar()}codificar(){let t=this.padroes.inicio;for(let o=0;o<this.codigo.length;o+=2){const i=parseInt(this.codigo[o]),e=parseInt(this.codigo[o+1]);for(let o=0;o<5;o++)t+="1"===this.padroes.codigos[i][o]?"11":"1",t+="1"===this.padroes.codigos[e][o]?"00":"0"}return t+this.padroes.fim}renderizar(t,o={}){const i={altura:100,tamanhoFonte:16,distanciaTexto:5,centralizarTexto:!0,corFundo:"#FFFFFF",corLinha:"#000000",corTexto:"#000000",...o},e=t.getContext("2d"),a=t.width,n=a/this.codificado.length;t.height=i.altura+i.tamanhoFonte+i.distanciaTexto,e.fillStyle=i.corFundo,e.fillRect(0,0,a,t.height),e.fillStyle=i.corLinha;for(let t=0;t<this.codificado.length;t++)"1"===this.codificado[t]&&e.fillRect(t*n,0,n,i.altura);i.centralizarTexto&&(e.font=`${i.tamanhoFonte}px Arial`,e.fillStyle=i.corTexto,e.textAlign="center",e.textBaseline="top",e.fillText(this.codigo,a/2,i.altura+i.distanciaTexto))}}function gerarCodigoBarras(t){const o={codigo:"",idElemento:"container-codigo-barras",altura:100,tamanhoFonte:16,distanciaTexto:5,centralizarTexto:!0,...t},i=document.getElementById(o.idElemento);if(!i)return void console.error(`Elemento com ID "${o.idElemento}" nÃ£o encontrado`);const e=document.createElement("canvas");i.innerHTML="",i.appendChild(e);const a=new CodigoBarrasITF(o.codigo);function n(){e.width=i.clientWidth,a.renderizar(e,{altura:o.altura,tamanhoFonte:o.tamanhoFonte,distanciaTexto:o.distanciaTexto,centralizarTexto:o.centralizarTexto})}n();new ResizeObserver(function(t,o){let i;return function(...e){clearTimeout(i),i=setTimeout((()=>{clearTimeout(i),t(...e)}),o)}}(n,250)).observe(i)}
