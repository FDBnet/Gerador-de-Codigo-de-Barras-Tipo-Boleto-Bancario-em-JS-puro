function gerarCodBarras(e){"use strict";const o={codg:"",idElemento:"canvas-codBarra",altura:50,margemVertical:10,comTexto:!0,fonteTexto:"12px monospace",corFundo:"#FFFFFF",corLinha:"#000000",debug:!1,...e};if(!o.codg)return void console.error("Código de barras não fornecido");const t=document.getElementById(o.idElemento);if(!t)return void console.error(`Elemento com ID "${o.idElemento}" não encontrado`);const n=document.createElement("canvas");t.innerHTML="",t.appendChild(n);const r=n.getContext("2d",{alpha:!1}),c={0:"00110",1:"10001",2:"01001",3:"11000",4:"00101",5:"10100",6:"01100",7:"00011",8:"10010",9:"01010"};function l(){const e=t.offsetWidth,l=Math.max(1,Math.floor(e/(11*o.codg.length+2))),a=(11*o.codg.length+2)*l;n.width=a,n.height=o.altura+(o.comTexto?o.margemVertical+12:0),r.fillStyle=o.corFundo,r.fillRect(0,0,n.width,n.height),r.fillStyle=o.corLinha;let i=l;for(let e=0;e<o.codg.length;e++){const t=o.codg[e],n=c[t];if(n){for(let e=0;e<5;e++)"1"===n[e]&&r.fillRect(i,0,l,o.altura),i+=l;i+=l}else console.error(`Dígito inválido no código de barras: ${t}`)}o.comTexto&&(r.font=o.fonteTexto,r.fillStyle=o.corLinha,r.textAlign="center",r.fillText(o.codg,n.width/2,n.height-5)),o.debug&&console.log(`Largura total: ${a}px, Largura da barra: ${l}px`)}l();const a=function(e,o){let t;return function(...n){clearTimeout(t),t=setTimeout((()=>{clearTimeout(t),e(...n)}),o)}}(l,250);window.addEventListener("resize",a)}
